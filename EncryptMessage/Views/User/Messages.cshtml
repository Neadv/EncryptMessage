@model IEnumerable<Message>
@{
    ViewBag.Title = "Encrypted Messages";
    var publicMessages = Model.Where(m => !m.IsPrivate);
    var privateMessages = Model.Where(m => m.IsPrivate);
}

@if (publicMessages.Count() > 0)
{
    <h5 class="bg-info text-white text-center p-2 mt-2">Public Messages - @publicMessages.Count()</h5>
    <partial name="_MessagesTable" model="publicMessages" />
}
@if (privateMessages.Count() > 0)
{
    <h5 class="bg-info text-white text-center p-2 mt-2">Private Messages - @privateMessages.Count()</h5>
    <partial name="_MessagesTable" model="privateMessages" />
}

@if (Model.Count() == 0)
{
    <div class="my-2">There are no mesagges. Click on button to create new.</div>
}

<a class="btn btn-primary" asp-action="Create" asp-controller="Home">Create new</a>